<!DOCTYPE html>
<html lang="fa" dir="rtl" id="mainHtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ŸÖŸÜŸà€å ÿ¢ŸÜŸÑÿß€åŸÜ</title>
    <style>
        :root { 
            --primary: #d3ad7f; --bg: #13131a; --card: #1e1e24; --text: #ffffff; --green: #27ae60; --blue: #2980b9; --input-bg: #2a2a35; 
            --header-img: url('https://images.unsplash.com/photo-1513104890138-7c749659a591?auto=format&fit=crop&w=1000&q=80');
            --bg-img: url('https://images.unsplash.com/photo-1550547660-d9450f859349?auto=format&fit=crop&w=1000&q=80');
        }
        * { margin:0; padding:0; box-sizing:border-box; font-family:'Tahoma', sans-serif; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background: linear-gradient(rgba(19, 19, 26, 0.85), rgba(19, 19, 26, 0.85)), var(--bg-img);
            background-size: cover; background-attachment: fixed; background-position: center;
            color:var(--text); padding-bottom:120px; user-select: none; 
        }
        
        /* --- ŸÖŸàÿ™Ÿàÿ± ÿ™ÿ±ÿ¨ŸÖŸá CSS (ŸÜŸàÿ¢Ÿàÿ±€å ÿßÿµŸÑ€å) --- */
        [data-t]:after { content: attr(data-fa); } /* Ÿæ€åÿ¥‚ÄåŸÅÿ±ÿ∂ ŸÅÿßÿ±ÿ≥€å */
        html[lang="en"] [data-t]:after { content: attr(data-en); }
        html[lang="ar"] [data-t]:after { content: attr(data-ar); }
        /* -------------------------------------- */

        header { 
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), var(--header-img);
            background-size: cover; background-position: center;
            padding: 50px 20px; text-align: center; border-bottom: 3px solid var(--primary); 
            position: sticky; top: 0; z-index: 100; box-shadow: 0 4px 15px rgba(0,0,0,0.6); 
        }
        .lang-switch { position: absolute; top: 10px; right: 10px; display: flex; gap: 5px; z-index: 101; }
        .lang-btn { background: rgba(0,0,0,0.7); border: 1px solid var(--primary); color: #fff; padding: 5px 10px; border-radius: 5px; font-size: 0.75rem; cursor: pointer; }
        .lang-btn.active { background: var(--primary); color: #000; font-weight: bold; }

        header h1 { font-size: 1.8rem; color: #fff; text-shadow: 2px 2px 4px rgba(0,0,0,0.8); }
        .status-badge { font-size: 0.85rem; padding: 5px 12px; border-radius: 12px; display: inline-block; margin-top: 5px; font-weight: bold; }
        .open { background: #27ae60; color: #fff; }
        .closed { background: #c0392b; color: #fff; }
        
        .cat-scroll { display: flex; gap: 10px; padding: 15px; overflow-x: auto; background: rgba(11, 11, 15, 0.8); backdrop-filter: blur(5px); }
        .cat-btn { background: var(--card); color: #fff; padding: 8px 16px; border-radius: 20px; border: 1px solid #333; white-space: nowrap; cursor: pointer; }
        .cat-btn.active { background: var(--primary); color: #000; font-weight: bold; }

        .menu-list { padding: 15px; max-width: 600px; margin: 0 auto; }
        .item { background: rgba(30, 30, 36, 0.9); border-radius: 12px; padding: 10px; margin-bottom: 12px; display: flex; gap: 12px; border: 1px solid #2a2a35; align-items: center; }
        .item img { width: 80px; height: 80px; border-radius: 8px; object-fit: cover; border: 1px solid var(--primary); }
        
        .add-btn { background: #333; color: #fff; padding: 6px 15px; border-radius: 8px; cursor: pointer; }
        .qty-box { display: none; align-items: center; background: #000; border-radius: 6px; border: 1px solid var(--primary); }
        .qty-box.show { display: flex; }
        .q-btn { width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--primary); font-weight: bold; }

        .order-details { background: var(--card); padding: 15px; border-top: 2px solid var(--primary); position: fixed; bottom: 80px; left: 0; right: 0; z-index: 900; display: none; border-radius: 15px 15px 0 0; box-shadow: 0 -5px 20px rgba(0,0,0,0.5); max-height: 70vh; overflow-y: auto; }
        .order-details.active { display: block; }
        .close-details { position: absolute; top: 15px; left: 15px; width: 30px; height: 30px; background: #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; border: 1px solid var(--primary); }

        .type-selector { display: flex; gap: 10px; margin: 15px 0; }
        .type-btn { flex: 1; padding: 12px; background: #000; border: 1px solid #333; color: #888; text-align: center; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .type-btn.selected { background: var(--primary); color: #000; }

        .invoice-box { background: #111; padding: 12px; border-radius: 8px; margin-bottom: 15px; }
        .invoice-row { display: flex; justify-content: space-between; font-size: 0.9rem; margin-bottom: 5px; color: #ccc; }
        .invoice-row.highlight { color: var(--primary); font-weight: bold; border-top: 1px solid #333; padding-top: 5px; font-size: 1.1rem; }
        
        .summary-item { display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; margin-bottom: 12px; }
        .summary-controls { display: flex; align-items: center; gap: 10px; background: #000; border-radius: 6px; padding: 2px 8px; border: 1px solid #444; }

        .input-group { margin-bottom: 10px; }
        .input-group input, .input-group textarea { width: 100%; padding: 12px; background: var(--input-bg); border: 1px solid #333; color: #fff; border-radius: 8px; outline: none; }

        .cart-bar { position: fixed; bottom: 0; left: 0; right: 0; background: #000; padding: 15px; z-index: 1000; display: none; border-top: 1px solid #333; }
        .final-btn { background: var(--green); color: #fff; padding: 14px; border-radius: 12px; font-weight: bold; cursor: pointer; text-align: center; width: 100%; font-size: 1rem; }

        .dev-footer { text-align: center; margin-top: 40px; padding: 30px 20px 100px 20px; border-top: 1px solid rgba(211, 173, 127, 0.2); background: rgba(14, 14, 18, 0.95); position: relative; }
        .dev-icons { display: flex; justify-content: center; gap: 20px; margin-top: 15px; }
        .dev-icons a { display: inline-flex; align-items: center; justify-content: center; width: 42px; height: 42px; background: #1a1a1a; border-radius: 50%; color: var(--primary); border: 1px solid var(--primary); }
        
        #lockScreen { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: #000; z-index: 9999; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 20px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="lang-switch">
        <div class="lang-btn active" onclick="setLang('fa')">FA</div>
        <div class="lang-btn" onclick="setLang('en')">EN</div>
        <div class="lang-btn" onclick="setLang('ar')">AR</div>
    </div>

    <div id="lockScreen">
        <h2 style="color:#e74c3c" data-t data-fa="Ÿæÿß€åÿßŸÜ ÿßÿ¥ÿ™ÿ±ÿß⁄© ‚ö†Ô∏è" data-en="Subscription Expired ‚ö†Ô∏è" data-ar="ÿßŸÜÿ™ŸáŸâ ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉ ‚ö†Ô∏è"></h2>
        <p data-t data-fa="ŸÖŸáŸÑÿ™ ÿßÿ≥ÿ™ŸÅÿßÿØŸá ÿ®Ÿá Ÿæÿß€åÿßŸÜ ÿ±ÿ≥€åÿØŸá ÿßÿ≥ÿ™." data-en="Subscription has ended." data-ar="ÿßŸÜÿ™Ÿáÿ™ ÿµŸÑÿßÿ≠Ÿäÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ."></p>
    </div>

    <header>
        <h1 id="shopName">...</h1>
        <div id="shopStatus" class="status-badge">...</div>
    </header>

    <div class="cat-scroll" id="cats"></div>
    <div class="menu-list" id="list">
        <p style="text-align:center; padding-top:50px;" data-t data-fa="ÿØÿ± ÿ≠ÿßŸÑ ÿØÿ±€åÿßŸÅÿ™ ŸÖŸÜŸà..." data-en="Loading menu..." data-ar="ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ..."></p>
    </div>

    <div class="dev-footer">
        <p id="devTitle" data-t data-fa="ŸÖÿ¨ÿ±€å ÿ∑ÿ±ÿ≠: ⁄Øÿ±ŸàŸá ŸÜÿ±ŸÖ‚ÄåÿßŸÅÿ≤ÿßÿ±€å ŸÖŸéÿ¨ÿØ" data-en="Developer: Majd Software Group" data-ar="ÿßŸÑŸÖÿ∑Ÿàÿ±: ŸÖÿ¨ŸÖŸàÿπÿ© ŸÖÿ¨ÿØ ŸÑŸÑÿ®ÿ±ŸÖÿ¨Ÿäÿßÿ™"></p>
        <div class="dev-icons">
            <a href="tel:09123456789"><svg viewBox="0 0 24 24" width="22" fill="currentColor"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg></a>
            <a href="https://t.me/YOUR_ID"><svg viewBox="0 0 24 24" width="22" fill="currentColor"><path d="M9.78 18.65l.28-4.23 7.68-6.92c.34-.31-.07-.46-.52-.19L7.74 13.3 3.64 12c-.88-.25-.89-.86.2-1.3l15.97-6.16c.75-.33 1.42.2 1.17 1.38l-2.75 12.96c-.2.9-1.52.84-2.1.28l-5.31-4.22-2.58 2.48c-.28.28-.52.51-1.06.51l.39-3.98z"/></svg></a>
            <a href="https://wa.me/989123456789"><svg viewBox="0 0 24 24" width="22" fill="currentColor"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21 5.46 0 9.91-4.45 9.91-9.91 0-2.65-1.03-5.14-2.9-7.01C17.18 3.03 14.69 2 12.04 2zM12.05 19.81c-1.48 0-2.93-.4-4.21-1.15l-.3-.18-3.11.82.83-3.04-.19-.31c-.82-1.31-1.26-2.83-1.26-4.38 0-4.54 3.7-8.24 8.24-8.24 2.2 0 4.27.86 5.82 2.42 1.56 1.56 2.41 3.63 2.41 5.83 0 4.54-3.69 8.23-8.23 8.23z"/></svg></a>
        </div>
    </div>

    <div class="order-details" id="orderDetails">
        <div class="close-details" onclick="toggleDetails(false)">‚úï</div>
        <h3 style="text-align:center; margin-bottom:15px;" data-t data-fa="üìã ÿ®ÿßÿ≤ÿ®€åŸÜ€å ÿ≥ŸÅÿßÿ±ÿ¥" data-en="üìã Review Order" data-ar="üìã ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ∑ŸÑÿ®"></h3>
        <div id="summaryList" class="summary-list"></div>
        <div class="type-selector">
            <div class="type-btn selected" id="btn-table" onclick="setType('table')" data-t data-fa="üçΩÔ∏è ÿ≥ÿßŸÑŸÜ" data-en="üçΩÔ∏è Dine-in" data-ar="üçΩÔ∏è ÿµÿßŸÑÿ©"></div>
            <div class="type-btn" id="btn-delivery" onclick="setType('delivery')" data-t data-fa="üõµ ÿ®€åÿ±ŸàŸÜ‚Äåÿ®ÿ±" data-en="üõµ Delivery" data-ar="üõµ ÿ™ŸàÿµŸäŸÑ"></div>
        </div>
        <div class="invoice-box">
            <div class="invoice-row"><span data-t data-fa="ÿ¨ŸÖÿπ ÿßŸÇŸÑÿßŸÖ:" data-en="Subtotal:" data-ar="ÿßŸÑŸÖÿ¨ŸÖŸàÿπ:"></span><span id="itemsTotal">0</span></div>
            <div class="invoice-row" id="deliveryRow" style="display:none;"><span data-t data-fa="Ÿáÿ≤€åŸÜŸá Ÿæ€å⁄©:" data-en="Delivery Fee:" data-ar="ÿ±ÿ≥ŸàŸÖ ÿßŸÑÿ™ŸàÿµŸäŸÑ:"></span><span id="deliveryPriceDisplay">0</span></div>
            <div class="invoice-row highlight"><span data-t data-fa="ŸÇÿßÿ®ŸÑ Ÿæÿ±ÿØÿßÿÆÿ™:" data-en="Total:" data-ar="ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä:"></span><span id="finalPayable">0</span></div>
        </div>
        <div class="input-group"><textarea id="userNote"></textarea></div>
        <div id="form-table" class="input-group"><input type="number" id="tableNum"></div>
        <div id="form-delivery" class="hidden">
            <div class="input-group"><input type="tel" id="userPhone"></div>
            <div class="input-group"><textarea id="address"></textarea></div>
        </div>
    </div>

    <div class="cart-bar" id="cartBar">
        <div class="final-btn" id="actionBtn" onclick="handleOrder()"></div>
    </div>

    <script>
        const sheetId = "1XoE-tWd9sor7HgqQe67z3JQCZyvt6G-IcSz9u1miRiw";
        let products = [], cart = {}, config = { isOpen: true, deliveryPrice: 0, phone: '', lang: 'fa' };

        const placeholders = {
            fa: { note: "ÿ™Ÿàÿ∂€åÿ≠ÿßÿ™ ÿ≥ŸÅÿßÿ±ÿ¥ (ÿßÿÆÿ™€åÿßÿ±€å)", table: "ÿ¥ŸÖÿßÿ±Ÿá ŸÖ€åÿ≤", phone: "ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÖÿßÿ≥", addr: "ÿ¢ÿØÿ±ÿ≥ ÿØŸÇ€åŸÇ" },
            en: { note: "Order notes (optional)", table: "Table number", phone: "Phone number", addr: "Full address" },
            ar: { note: "ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)", table: "ÿ±ŸÇŸÖ ÿßŸÑÿ∑ÿßŸàŸÑÿ©", phone: "ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ", addr: "ÿßŸÑÿπŸÜŸàÿßŸÜ ÿ®ÿßŸÑÿ™ŸÅÿµŸäŸÑ" }
        };

        function setLang(l) {
            config.lang = l;
            const html = document.documentElement;
            html.lang = l;
            html.dir = l === 'en' ? 'ltr' : 'rtl';
            document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.innerText.toLowerCase() === l));
            
            // ÿ¢ŸæÿØ€åÿ™ ŸæŸÑ€åÿ≥‚ÄåŸáŸàŸÑÿØÿ±Ÿáÿß (ÿ™ŸÜŸáÿß ÿ®ÿÆÿ¥€å ⁄©Ÿá CSS ŸÜŸÖ€å‚Äåÿ™ŸàÿßŸÜÿØ ÿ™ÿ±ÿ¨ŸÖŸá ⁄©ŸÜÿØ)
            document.getElementById('userNote').placeholder = placeholders[l].note;
            document.getElementById('tableNum').placeholder = placeholders[l].table;
            document.getElementById('userPhone').placeholder = placeholders[l].phone;
            document.getElementById('address').placeholder = placeholders[l].addr;

            updateShopStatus();
            render();
        }

        async function start() {
            try {
                const [m, s] = await Promise.all([
                    fetch(`https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv&sheet=Menu&cb=${Date.now()}`).then(r => r.text()),
                    fetch(`https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv&sheet=Settings&cb=${Date.now()}`).then(r => r.text())
                ]);
                parseSettings(s);
                parseMenu(m);
                setLang('fa');
            } catch (e) { document.getElementById('list').innerHTML = "Check Internet / Publish to web"; }
        }

        function parseSettings(csv) {
            const lines = csv.split('\n');
            lines.forEach(l => {
                const parts = l.split(',').map(p => p.replace(/"/g, '').trim());
                if (parts[0] === 'ShopName') document.getElementById('shopName').innerText = parts[1];
                if (parts[0] === 'HeaderImage') document.documentElement.style.setProperty('--header-img', `url('${parts[1]}')`);
                if (parts[0] === 'BgImage') document.documentElement.style.setProperty('--bg-img', `url('${parts[1]}')`);
                if (parts[0] === 'Phone') config.phone = parts[1];
                if (parts[0] === 'DeliveryPrice') config.deliveryPrice = parseInt(parts[1]) || 0;
                if (parts[0] === 'PaymentLink') config.paymentLink = parts[1];
                if (parts[0] === 'IsOpen') config.isOpen = parts[1].toUpperCase() !== 'FALSE';
            });
        }

        function parseMenu(csv) {
            const rows = csv.split('\n').slice(1);
            rows.forEach((r, i) => {
                const p = r.split(',').map(x => x.replace(/"/g, '').trim());
                if (p.length >= 3) products.push({ id: i, cat: p[0], title: p[1], price: parseInt(p[2].replace(/,/g,'')), img: p[3], active: p[4]?.toUpperCase() !== 'FALSE' });
            });
        }

        function render() {
            const list = document.getElementById('list');
            list.innerHTML = '';
            
            // ÿØ⁄©ŸÖŸá‚ÄåŸáÿß€å ÿØÿ≥ÿ™Ÿá‚Äåÿ®ŸÜÿØ€å
            const cats = ['all', ...new Set(products.map(x => x.cat))];
            document.getElementById('cats').innerHTML = cats.map(c => `<div class="cat-btn ${c==='all'?'active':''}" onclick="filter('${c}', this)">${c === 'all' ? (config.lang==='en'?'All':(config.lang==='ar'?'ÿßŸÑŸÉŸÑ':'ŸáŸÖŸá')) : c}</div>`).join('');

            products.forEach(p => {
                const count = cart[p.id] || 0;
                const btn = !p.active ? `<span style="color:#e74c3c" data-t data-fa="ŸÜÿßŸÖŸàÿ¨ŸàÿØ" data-en="Out" data-ar="ÿ∫€åÿ± ŸÖÿ™ŸàŸÅÿ±"></span>` : 
                    (count === 0 ? `<div class="add-btn" onclick="upd(${p.id},1)" data-t data-fa="ÿßŸÅÿ≤ŸàÿØŸÜ" data-en="Add" data-ar="ÿ•ÿ∂ÿßŸÅÿ©"></div>` : 
                    `<div class="qty-box show"><div class="q-btn" onclick="upd(${p.id},1)">+</div><span>${count}</span><div class="q-btn" onclick="upd(${p.id},-1)">-</div></div>`);
                
                list.innerHTML += `<div class="item"><img src="${p.img}"><div style="flex:1"><h3>${p.title}</h3><div style="display:flex; justify-content:space-between; align-items:center; margin-top:5px;"><span class="price">${p.price.toLocaleString()}</span>${btn}</div></div></div>`;
            });
            calcTotal();
        }

        window.filter = (c, el) => {
            document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('.item').forEach((item, i) => item.style.display = (c === 'all' || products[i].cat === c) ? 'flex' : 'none');
        };

        window.upd = (id, n) => {
            cart[id] = (cart[id] || 0) + n;
            if (cart[id] <= 0) delete cart[id];
            render();
        };

        function calcTotal() {
            let total = 0, count = 0, summaryHtml = '';
            for (let id in cart) {
                const p = products[id];
                total += p.price * cart[id]; count += cart[id];
                summaryHtml += `<div class="summary-item"><span>${p.title}</span><div class="summary-controls"><div class="q-btn" onclick="upd(${id},-1)">-</div><span>${cart[id]}</span><div class="q-btn" onclick="upd(${id},1)">+</div></div><span>${(p.price * cart[id]).toLocaleString()}</span></div>`;
            }
            const isDel = document.getElementById('btn-delivery').classList.contains('selected');
            const final = isDel ? total + config.deliveryPrice : total;
            
            document.getElementById('itemsTotal').innerText = total.toLocaleString();
            document.getElementById('finalPayable').innerText = final.toLocaleString() + (config.lang === 'en' ? ' Toman' : ' ÿ™ŸàŸÖÿßŸÜ');
            document.getElementById('summaryList').innerHTML = summaryHtml || '<p style="text-align:center; opacity:0.5">...</p>';
            
            const bar = document.getElementById('cartBar');
            const isOpen = document.getElementById('orderDetails').classList.contains('active');
            bar.style.display = count > 0 ? 'block' : 'none';
            
            const btn = document.getElementById('actionBtn');
            btn.innerHTML = !isOpen ? `<span data-t data-fa="ŸÖÿ¥ÿßŸáÿØŸá ÿ≥ŸÅÿßÿ±ÿ¥ Ÿà ÿ™ÿß€å€åÿØ" data-en="View Order" data-ar="ÿπÿ±ÿ∂ ÿßŸÑÿ∑ŸÑÿ®"></span>` : 
                (isDel ? `<span data-t data-fa="ÿ™ÿß€å€åÿØ Ÿà Ÿæÿ±ÿØÿßÿÆÿ™ ÿ¢ŸÜŸÑÿß€åŸÜ" data-en="Pay Now" data-ar="ÿ™ÿ£ŸÉŸäÿØ ŸàÿØŸÅÿπ"></span>` : `<span data-t data-fa="ÿ´ÿ®ÿ™ ŸÜŸáÿß€å€å ÿ≥ŸÅÿßÿ±ÿ¥" data-en="Submit Order" data-ar="ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ∑ŸÑÿ®"></span>`);
        }

        window.toggleDetails = (s) => { document.getElementById('orderDetails').classList.toggle('active', s); calcTotal(); };
        window.setType = (t) => {
            document.getElementById('btn-table').classList.toggle('selected', t==='table');
            document.getElementById('btn-delivery').classList.toggle('selected', t==='delivery');
            document.getElementById('form-table').classList.toggle('hidden', t!=='table');
            document.getElementById('form-delivery').classList.toggle('hidden', t!=='delivery');
            document.getElementById('deliveryRow').style.display = t==='delivery' ? 'flex' : 'none';
            calcTotal();
        };

        window.handleOrder = () => {
            const det = document.getElementById('orderDetails');
            if (!det.classList.contains('active')) return toggleDetails(true);
            
            let desc = ""; for (let id in cart) desc += `${products[id].title}(${cart[id]}) - `;
            if (document.getElementById('btn-table').classList.contains('selected')) {
                const n = document.getElementById('tableNum').value;
                if (!n) return alert(config.lang === 'en' ? "Table #?" : "ÿ¥ŸÖÿßÿ±Ÿá ŸÖ€åÿ≤ÿü");
                window.open(`https://wa.me/${config.phone}?text=${encodeURIComponent("Order Table " + n + ": " + desc)}`);
            } else {
                const ph = document.getElementById('userPhone').value, ad = document.getElementById('address').value;
                if (!ph || !ad) return alert(config.lang === 'en' ? "Info required" : "ÿßÿ∑ŸÑÿßÿπÿßÿ™ ŸÜÿßŸÇÿµ");
                const msg = config.lang==='en' ? "Take screenshot after payment. Proceed?" : "Ÿæÿ≥ ÿßÿ≤ Ÿæÿ±ÿØÿßÿÆÿ™ ÿßÿ≥⁄©ÿ±€åŸÜ‚Äåÿ¥ÿßÿ™ ÿ®⁄Ø€åÿ±€åÿØ. ÿ™ÿß€å€åÿØÿü";
                if(confirm(msg)) window.location.href = config.paymentLink;
            }
        };

        function updateShopStatus() {
            const s = document.getElementById('shopStatus');
            s.className = "status-badge " + (config.isOpen ? 'open' : 'closed');
            s.innerHTML = config.isOpen ? `<span data-t data-fa="‚úÖ ÿ®ÿßÿ≤ ÿßÿ≥ÿ™" data-en="‚úÖ Open" data-ar="‚úÖ ŸÖŸÅÿ™Ÿàÿ≠"></span>` : `<span data-t data-fa="‚õî ÿ®ÿ≥ÿ™Ÿá" data-en="‚õî Closed" data-ar="‚õî ŸÖÿ∫ŸÑŸÇ"></span>`;
        }

        start();
    </script>
</body>
</html>
